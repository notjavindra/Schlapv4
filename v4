-- ✅ Full Merqury Hub Script (WindUI)

local Version = "1.6.31"
local success, WindUI = pcall(function()
    return loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/download/"..Version.."/main.lua"))()
end)
if not success then return end

local Players, RunService, TeleportService, HttpService, Workspace =
    game:GetService("Players"), game:GetService("RunService"),
    game:GetService("TeleportService"), game:GetService("HttpService"),
    game:GetService("Workspace")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")

-- Vars
local WalkSpeedValue, JumpPowerValue = 16, 50
local SpeedEnabled, AutoSlapEnabled, AutoSlapAuraEnabled, AntiVoidEnabled, AntiRagdollEnabled = false,false,false,false,false
local PlayersESPEnabled, UsersESPEnabled, SpinBotEnabled = false,false,false
local SlapSpeed, LastSlapTime, AuraTargetIndex, LastAuraTime = 0.3, 0, 1, 0
local AuraSwitchDelay, LastTeleportTime, TeleportDebounce = 2, 0, 1
local AntiVoidPart, ESPConnections = nil, {}
local SchlapTools = {"Basic","Charged","Medic","Toxic","Jester","Dracula","Stone","Gravity","Gatling","Velocity","Lava","Tsunami","Godly","Midas"}

-- Window
local Window = WindUI:CreateWindow({Title="Schlap | Merqury Hub", Icon="rbxassetid://4483345998", Author="Merqury Hub", Size=UDim2.fromOffset(580,460), Theme="Dark"})
local function showNotification(t,c,d) WindUI:Notify({Title=t,Content=c,Duration=d or 3}) end

-- Tabs
local mainTab = Window:Tab({Title="Main"})
local visualTab = Window:Tab({Title="Visual"})
local miscTab = Window:Tab({Title="Misc"})

-- Toggles
mainTab:Toggle({Title="Auto Slap",Default=false,Callback=function(s) AutoSlapEnabled=s end})
mainTab:Toggle({Title="Auto Slap Aura (⚠️)",Default=false,Callback=function(s) AutoSlapAuraEnabled=s AuraTargetIndex=1 end})
mainTab:Toggle({Title="Antivoid",Default=false,Callback=function(s)
    AntiVoidEnabled=s
    if s then
        AntiVoidPart=Instance.new("Part")
        AntiVoidPart.Size=Vector3.new(5000,1,5000)
        AntiVoidPart.Position=Vector3.new(0,-200,0)
        AntiVoidPart.Anchored=true; AntiVoidPart.Transparency=1; AntiVoidPart.CanCollide=true
        AntiVoidPart.Parent=Workspace
        AntiVoidPart.Touched:Connect(function(hit)
            local p=Players:GetPlayerFromCharacter(hit.Parent)
            if p==LocalPlayer and tick()-LastTeleportTime>=TeleportDebounce then
                LastTeleportTime=tick()
                p.Character.HumanoidRootPart.CFrame=CFrame.new(Vector3.new(-21.19,-49.709,331.93))
            end
        end)
    elseif AntiVoidPart then AntiVoidPart:Destroy() AntiVoidPart=nil end
end})
mainTab:Toggle({Title="AntiRagdoll",Default=false,Callback=function(s) AntiRagdollEnabled=s end})
mainTab:Toggle({Title="SpinBot",Default=false,Callback=function(s) SpinBotEnabled=s end})

-- ESP
local function createPlayerESP(p)
    if not p.Character or not p.Character:FindFirstChild("HumanoidRootPart") then return end
    if ESPConnections[p.Name] then return end
    local esp=Instance.new("BoxHandleAdornment")
    esp.Size=Vector3.new(4,6,1); esp.Color3=Color3.fromRGB(0,162,255)
    esp.Transparency=0.7; esp.AlwaysOnTop=true
    esp.Adornee=p.Character.HumanoidRootPart; esp.Parent=p.Character.HumanoidRootPart
    ESPConnections[p.Name]=esp
end
local function removeESP() for _,e in pairs(ESPConnections) do e:Destroy() end ESPConnections={} end

visualTab:Toggle({Title="Players ESP",Default=false,Callback=function(s) PlayersESPEnabled=s if not s then removeESP() end end})
visualTab:Toggle({Title="Users ESP",Default=false,Callback=function(s) UsersESPEnabled=s if not s then removeESP() end end})

-- Sliders
miscTab:Slider({Title="WalkSpeed",Default=16,Min=16,Max=200,Callback=function(v) WalkSpeedValue=v SpeedEnabled=true end})
miscTab:Slider({Title="JumpPower",Default=50,Min=50,Max=200,Callback=function(v) JumpPowerValue=v SpeedEnabled=true end})
miscTab:Button({Title="Rejoin",Callback=function() TeleportService:TeleportToPlaceInstance(game.PlaceId,game.JobId,LocalPlayer) end})
miscTab:Button({Title="Server Hop",Callback=function()
    local s=HttpService:JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Asc&limit=100"))
    for _,v in pairs(s.data) do if v.playing<v.maxPlayers and v.id~=game.JobId then TeleportService:TeleportToPlaceInstance(game.PlaceId,v.id,LocalPlayer) break end end
end})

-- Loops
RunService.Heartbeat:Connect(function()
    if SpeedEnabled then Humanoid.WalkSpeed=WalkSpeedValue Humanoid.JumpPower=JumpPowerValue end
    if AutoSlapEnabled and tick()-LastSlapTime>=SlapSpeed then
        LastSlapTime=tick()
        for _,p in pairs(Players:GetPlayers()) do
            if p~=LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                if (p.Character.HumanoidRootPart.Position-Character.HumanoidRootPart.Position).Magnitude<25 then
                    local tool=Character:FindFirstChildOfClass("Tool")
                    if tool and table.find(SchlapTools,tool.Name) then tool:Activate() end
                end
            end
        end
    end
    if AutoSlapAuraEnabled and tick()-LastAuraTime>=AuraSwitchDelay then
        LastAuraTime=tick()
        local players=Players:GetPlayers()
        AuraTargetIndex=AuraTargetIndex%(#players)+1
        local target=players[AuraTargetIndex]
        if target and target~=LocalPlayer and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
            Character.HumanoidRootPart.CFrame=target.Character.HumanoidRootPart.CFrame*CFrame.new(0,0,2)
            local tool=Character:FindFirstChildOfClass("Tool")
            if tool and table.find(SchlapTools,tool.Name) then tool:Activate() end
        end
    end
    if AntiRagdollEnabled then for _,v in pairs(Character:GetChildren()) do if v:IsA("BodyGyro") or v:IsA("BodyVelocity") then v:Destroy() end end end
    if PlayersESPEnabled then for _,p in pairs(Players:GetPlayers()) do if p~=LocalPlayer then createPlayerESP(p) end end end
end)

RunService.RenderStepped:Connect(function()
    if SpinBotEnabled and Character:FindFirstChild("HumanoidRootPart") then
        Character.HumanoidRootPart.CFrame=Character.HumanoidRootPart.CFrame*CFrame.Angles(0,math.rad(15),0)
    end
end)

LocalPlayer.CharacterAdded:Connect(function(c) Character=c Humanoid=c:WaitForChild("Humanoid") end)
Window:SelectTab(1)
