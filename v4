-- // Schlap | Merqury Hub Full Script //

-- Load WindUI
local Version = "1.6.31"
local success, WindUI = pcall(function()
    return loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/download/" .. Version .. "/main.lua"))()
end)
if not success then
    warn("Failed to load WindUI")
    return
end

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")

-- Vars
local WalkSpeedValue, JumpPowerValue = 16, 50
local SpeedEnabled, AutoSlapEnabled, AutoSlapAuraEnabled, SpinBotEnabled = false, false, false, false
local AntiVoidEnabled, AntiRagdollEnabled, PlayersESPEnabled, UsersESPEnabled = false, false, false, false
local AntiVoidPart
local SlapSpeed, LastSlapTime = 0.3, 0
local LastTeleportTime, TeleportDebounce = 0, 1
local AuraTargetIndex, LastAuraTime, AuraSwitchDelay = 1, 0, 2
local ESPConnections = {}

-- Tools list
local SchlapTools = {"Basic","Charged","Medic","Toxic","Jester","Dracula","Stone","Gravity","Gatling","Velocity","Lava","Tsunami","Godly","Midas"}

-- Window
local Window = WindUI:CreateWindow({
    Title = "Schlap | Merqury Hub",
    Icon = "rbxassetid://4483345998",
    Author = "Merqury Hub",
    Folder = "SchlapConfig",
    Size = UDim2.fromOffset(580, 460),
    KeySystem = {Key = "MERQURYHUB_1.7", Note = "The key is nothing", URL = "https://discord.gg/h4zF3hnBBq", SaveKey = true},
    Transparent = true,
    Theme = "Dark",
    SideBarWidth = 170
})

-- Notify helper
local function showNotification(title, content, duration)
    WindUI:Notify({Title = title, Content = content, Duration = duration or 3})
end

-- === Main Tab ===
local mainTab = Window:Tab({Title = "Main", Icon = "rbxassetid://4483345998"})

mainTab:Toggle({
    Title = "Auto Slap",
    Default = false,
    Callback = function(s) AutoSlapEnabled = s end
})

mainTab:Toggle({
    Title = "Auto Slap Aura (⚠️)",
    Default = false,
    Callback = function(s) AutoSlapAuraEnabled = s; AuraTargetIndex = 1 end
})

mainTab:Toggle({
    Title = "AntiVoid",
    Default = false,
    Callback = function(state)
        AntiVoidEnabled = state
        if state then
            if not AntiVoidPart then
                AntiVoidPart = Instance.new("Part")
                AntiVoidPart.Size = Vector3.new(5000,1,5000)
                AntiVoidPart.Position = Vector3.new(0,-200,0)
                AntiVoidPart.Anchored = true
                AntiVoidPart.Transparency = 1
                AntiVoidPart.CanCollide = true
                AntiVoidPart.Parent = Workspace
                AntiVoidPart.Touched:Connect(function(hit)
                    local plr = Players:GetPlayerFromCharacter(hit.Parent)
                    if plr == LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                        if tick() - LastTeleportTime >= TeleportDebounce then
                            LastTeleportTime = tick()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(-21.19,-49.709,331.93)
                            showNotification("AntiVoid","Teleported back!")
                        end
                    end
                end)
            end
        else
            if AntiVoidPart then AntiVoidPart:Destroy(); AntiVoidPart=nil end
        end
    end
})

mainTab:Toggle({
    Title = "AntiRagdoll",
    Default = false,
    Callback = function(s) AntiRagdollEnabled = s end
})

-- === Visual Tab ===
local visualTab = Window:Tab({Title = "Visual", Icon = "rbxassetid://4483345998"})

local function createPlayerESP(p)
    if not p.Character or not p.Character:FindFirstChild("HumanoidRootPart") then return end
    if ESPConnections[p.Name] and ESPConnections[p.Name].Players then return end
    local box = Instance.new("BoxHandleAdornment")
    box.Size = Vector3.new(4,6,1)
    box.Color3 = Color3.fromRGB(0,162,255)
    box.Transparency = 0.7
    box.AlwaysOnTop = true
    box.Adornee = p.Character.HumanoidRootPart
    box.Parent = p.Character.HumanoidRootPart
    ESPConnections[p.Name] = ESPConnections[p.Name] or {}
    ESPConnections[p.Name].Players = box
end

local function createUsersESP()
    for _,m in pairs(Workspace:GetDescendants()) do
        if m:IsA("Model") and m:FindFirstChild("HumanoidRootPart") and m:FindFirstChild("Humanoid") then
            local isPlayer=false
            for _,p in pairs(Players:GetPlayers()) do if p.Character==m then isPlayer=true break end end
            if not isPlayer then
                if not (ESPConnections[m.Name] and ESPConnections[m.Name].Users) then
                    local box = Instance.new("BoxHandleAdornment")
                    box.Size = Vector3.new(4,6,1)
                    box.Color3 = Color3.fromRGB(255,0,0)
                    box.Transparency = 0.7
                    box.AlwaysOnTop = true
                    box.Adornee = m.HumanoidRootPart
                    box.Parent = m.HumanoidRootPart
                    ESPConnections[m.Name] = ESPConnections[m.Name] or {}
                    ESPConnections[m.Name].Users = box
                end
            end
        end
    end
end

local function removeAllESP(type)
    for _,con in pairs(ESPConnections) do
        if con[type] then con[type]:Destroy(); con[type]=nil end
    end
end

visualTab:Toggle({
    Title="Players ESP",
    Default=false,
    Callback=function(s)
        PlayersESPEnabled=s
        if not s then removeAllESP("Players") end
    end
})

visualTab:Toggle({
    Title="Users ESP",
    Default=false,
    Callback=function(s)
        UsersESPEnabled=s
        if not s then removeAllESP("Users") end
    end
})

-- === Misc Tab ===
local miscTab = Window:Tab({Title="Misc",Icon="rbxassetid://4483345998"})

miscTab:Slider({
    Title="WalkSpeed",
    Default=16,Min=16,Max=200,
    Callback=function(v) WalkSpeedValue=v; SpeedEnabled=true end
})

miscTab:Slider({
    Title="JumpPower",
    Default=50,Min=50,Max=200,
    Callback=function(v) JumpPowerValue=v; SpeedEnabled=true end
})

miscTab:Button({
    Title="Rejoin",
    Callback=function() TeleportService:TeleportToPlaceInstance(game.PlaceId,game.JobId,LocalPlayer) end
})

miscTab:Button({
    Title="Server Hop",
    Callback=function()
        local servers = {}
        local suc,res = pcall(function()
            return game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Asc&limit=100")
        end)
        if suc then
            local data = HttpService:JSONDecode(res)
            for _,srv in pairs(data.data) do
                if srv.playing<srv.maxPlayers and srv.id~=game.JobId then
                    table.insert(servers,srv.id)
                end
            end
            if #servers>0 then
                TeleportService:TeleportToPlaceInstance(game.PlaceId,servers[math.random(#servers)],LocalPlayer)
            else
                showNotification("ServerHop","No servers found.")
            end
        end
    end
})

miscTab:Button({
    Title="Copy Discord",
    Callback=function() setclipboard("https://discord.gg/merquryhub") end
})

-- === Loops ===
RunService.Heartbeat:Connect(function()
    if SpeedEnabled and Humanoid then
        Humanoid.WalkSpeed=WalkSpeedValue
        Humanoid.JumpPower=JumpPowerValue
    end
    if AutoSlapEnabled and tick()-LastSlapTime>=SlapSpeed then
        LastSlapTime=tick()
        for _,p in pairs(Players:GetPlayers()) do
            if p~=LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                if (p.Character.HumanoidRootPart.Position-Character.HumanoidRootPart.Position).Magnitude<25 then
                    local tool=Character:FindFirstChildOfClass("Tool")
                    if tool and table.find(SchlapTools,tool.Name) then tool:Activate() end
                end
            end
        end
    end
    if AutoSlapAuraEnabled and tick()-LastAuraTime>=AuraSwitchDelay then
        LastAuraTime=tick()
        local players=Players:GetPlayers()
        if #players>1 then
            AuraTargetIndex=AuraTargetIndex+1
            if AuraTargetIndex>#players then AuraTargetIndex=1 end
            local target=players[AuraTargetIndex]
            if target and target~=LocalPlayer and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                Character.HumanoidRootPart.CFrame=target.Character.HumanoidRootPart.CFrame*CFrame.new(0,0,2)
                local tool=Character:FindFirstChildOfClass("Tool")
                if tool and table.find(SchlapTools,tool.Name) then tool:Activate() end
            end
        end
    end
    if AntiRagdollEnabled and Character then
        for _,v in pairs(Character:GetChildren()) do
            if v:IsA("BodyVelocity") or v:IsA("BodyGyro") then v:Destroy() end
        end
    end
    if PlayersESPEnabled then for _,p in pairs(Players:GetPlayers()) do if p~=LocalPlayer then createPlayerESP(p) end end end
    if UsersESPEnabled then createUsersESP() end
end)

RunService.RenderStepped:Connect(function()
    if SpinBotEnabled and Character and Character:FindFirstChild("HumanoidRootPart") then
        Character.HumanoidRootPart.CFrame=Character.HumanoidRootPart.CFrame*CFrame.Angles(0,math.rad(15),0)
    end
end)

LocalPlayer.CharacterAdded:Connect(function(char)
    Character=char
    Humanoid=char:WaitForChild("Humanoid")
end)

Window:SelectTab(1)
showNotification("Merqury Hub","Loaded!",5)-- // Schlap | Merqury Hub Full Script //

-- Load WindUI
local Version = "1.6.31"
local success, WindUI = pcall(function()
    return loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/download/" .. Version .. "/main.lua"))()
end)
if not success then
    warn("Failed to load WindUI")
    return
end

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")

-- Vars
local WalkSpeedValue, JumpPowerValue = 16, 50
local SpeedEnabled, AutoSlapEnabled, AutoSlapAuraEnabled, SpinBotEnabled = false, false, false, false
local AntiVoidEnabled, AntiRagdollEnabled, PlayersESPEnabled, UsersESPEnabled = false, false, false, false
local AntiVoidPart
local SlapSpeed, LastSlapTime = 0.3, 0
local LastTeleportTime, TeleportDebounce = 0, 1
local AuraTargetIndex, LastAuraTime, AuraSwitchDelay = 1, 0, 2
local ESPConnections = {}

-- Tools list
local SchlapTools = {"Basic","Charged","Medic","Toxic","Jester","Dracula","Stone","Gravity","Gatling","Velocity","Lava","Tsunami","Godly","Midas"}

-- Window
local Window = WindUI:CreateWindow({
    Title = "Schlap | Merqury Hub",
    Icon = "rbxassetid://4483345998",
    Author = "Merqury Hub",
    Folder = "SchlapConfig",
    Size = UDim2.fromOffset(580, 460),
    KeySystem = {Key = "MERQURYHUB_1.7", Note = "The key is nothing", URL = "https://discord.gg/h4zF3hnBBq", SaveKey = true},
    Transparent = true,
    Theme = "Dark",
    SideBarWidth = 170
})

-- Notify helper
local function showNotification(title, content, duration)
    WindUI:Notify({Title = title, Content = content, Duration = duration or 3})
end

-- === Main Tab ===
local mainTab = Window:Tab({Title = "Main", Icon = "rbxassetid://4483345998"})

mainTab:Toggle({
    Title = "Auto Slap",
    Default = false,
    Callback = function(s) AutoSlapEnabled = s end
})

mainTab:Toggle({
    Title = "Auto Slap Aura (⚠️)",
    Default = false,
    Callback = function(s) AutoSlapAuraEnabled = s; AuraTargetIndex = 1 end
})

mainTab:Toggle({
    Title = "AntiVoid",
    Default = false,
    Callback = function(state)
        AntiVoidEnabled = state
        if state then
            if not AntiVoidPart then
                AntiVoidPart = Instance.new("Part")
                AntiVoidPart.Size = Vector3.new(5000,1,5000)
                AntiVoidPart.Position = Vector3.new(0,-200,0)
                AntiVoidPart.Anchored = true
                AntiVoidPart.Transparency = 1
                AntiVoidPart.CanCollide = true
                AntiVoidPart.Parent = Workspace
                AntiVoidPart.Touched:Connect(function(hit)
                    local plr = Players:GetPlayerFromCharacter(hit.Parent)
                    if plr == LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                        if tick() - LastTeleportTime >= TeleportDebounce then
                            LastTeleportTime = tick()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(-21.19,-49.709,331.93)
                            showNotification("AntiVoid","Teleported back!")
                        end
                    end
                end)
            end
        else
            if AntiVoidPart then AntiVoidPart:Destroy(); AntiVoidPart=nil end
        end
    end
})

mainTab:Toggle({
    Title = "AntiRagdoll",
    Default = false,
    Callback = function(s) AntiRagdollEnabled = s end
})

-- === Visual Tab ===
local visualTab = Window:Tab({Title = "Visual", Icon = "rbxassetid://4483345998"})

local function createPlayerESP(p)
    if not p.Character or not p.Character:FindFirstChild("HumanoidRootPart") then return end
    if ESPConnections[p.Name] and ESPConnections[p.Name].Players then return end
    local box = Instance.new("BoxHandleAdornment")
    box.Size = Vector3.new(4,6,1)
    box.Color3 = Color3.fromRGB(0,162,255)
    box.Transparency = 0.7
    box.AlwaysOnTop = true
    box.Adornee = p.Character.HumanoidRootPart
    box.Parent = p.Character.HumanoidRootPart
    ESPConnections[p.Name] = ESPConnections[p.Name] or {}
    ESPConnections[p.Name].Players = box
end

local function createUsersESP()
    for _,m in pairs(Workspace:GetDescendants()) do
        if m:IsA("Model") and m:FindFirstChild("HumanoidRootPart") and m:FindFirstChild("Humanoid") then
            local isPlayer=false
            for _,p in pairs(Players:GetPlayers()) do if p.Character==m then isPlayer=true break end end
            if not isPlayer then
                if not (ESPConnections[m.Name] and ESPConnections[m.Name].Users) then
                    local box = Instance.new("BoxHandleAdornment")
                    box.Size = Vector3.new(4,6,1)
                    box.Color3 = Color3.fromRGB(255,0,0)
                    box.Transparency = 0.7
                    box.AlwaysOnTop = true
                    box.Adornee = m.HumanoidRootPart
                    box.Parent = m.HumanoidRootPart
                    ESPConnections[m.Name] = ESPConnections[m.Name] or {}
                    ESPConnections[m.Name].Users = box
                end
            end
        end
    end
end

local function removeAllESP(type)
    for _,con in pairs(ESPConnections) do
        if con[type] then con[type]:Destroy(); con[type]=nil end
    end
end

visualTab:Toggle({
    Title="Players ESP",
    Default=false,
    Callback=function(s)
        PlayersESPEnabled=s
        if not s then removeAllESP("Players") end
    end
})

visualTab:Toggle({
    Title="Users ESP",
    Default=false,
    Callback=function(s)
        UsersESPEnabled=s
        if not s then removeAllESP("Users") end
    end
})

-- === Misc Tab ===
local miscTab = Window:Tab({Title="Misc",Icon="rbxassetid://4483345998"})

miscTab:Slider({
    Title="WalkSpeed",
    Default=16,Min=16,Max=200,
    Callback=function(v) WalkSpeedValue=v; SpeedEnabled=true end
})

miscTab:Slider({
    Title="JumpPower",
    Default=50,Min=50,Max=200,
    Callback=function(v) JumpPowerValue=v; SpeedEnabled=true end
})

miscTab:Button({
    Title="Rejoin",
    Callback=function() TeleportService:TeleportToPlaceInstance(game.PlaceId,game.JobId,LocalPlayer) end
})

miscTab:Button({
    Title="Server Hop",
    Callback=function()
        local servers = {}
        local suc,res = pcall(function()
            return game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Asc&limit=100")
        end)
        if suc then
            local data = HttpService:JSONDecode(res)
            for _,srv in pairs(data.data) do
                if srv.playing<srv.maxPlayers and srv.id~=game.JobId then
                    table.insert(servers,srv.id)
                end
            end
            if #servers>0 then
                TeleportService:TeleportToPlaceInstance(game.PlaceId,servers[math.random(#servers)],LocalPlayer)
            else
                showNotification("ServerHop","No servers found.")
            end
        end
    end
})

miscTab:Button({
    Title="Copy Discord",
    Callback=function() setclipboard("https://discord.gg/merquryhub") end
})

-- === Loops ===
RunService.Heartbeat:Connect(function()
    if SpeedEnabled and Humanoid then
        Humanoid.WalkSpeed=WalkSpeedValue
        Humanoid.JumpPower=JumpPowerValue
    end
    if AutoSlapEnabled and tick()-LastSlapTime>=SlapSpeed then
        LastSlapTime=tick()
        for _,p in pairs(Players:GetPlayers()) do
            if p~=LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                if (p.Character.HumanoidRootPart.Position-Character.HumanoidRootPart.Position).Magnitude<25 then
                    local tool=Character:FindFirstChildOfClass("Tool")
                    if tool and table.find(SchlapTools,tool.Name) then tool:Activate() end
                end
            end
        end
    end
    if AutoSlapAuraEnabled and tick()-LastAuraTime>=AuraSwitchDelay then
        LastAuraTime=tick()
        local players=Players:GetPlayers()
        if #players>1 then
            AuraTargetIndex=AuraTargetIndex+1
            if AuraTargetIndex>#players then AuraTargetIndex=1 end
            local target=players[AuraTargetIndex]
            if target and target~=LocalPlayer and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                Character.HumanoidRootPart.CFrame=target.Character.HumanoidRootPart.CFrame*CFrame.new(0,0,2)
                local tool=Character:FindFirstChildOfClass("Tool")
                if tool and table.find(SchlapTools,tool.Name) then tool:Activate() end
            end
        end
    end
    if AntiRagdollEnabled and Character then
        for _,v in pairs(Character:GetChildren()) do
            if v:IsA("BodyVelocity") or v:IsA("BodyGyro") then v:Destroy() end
        end
    end
    if PlayersESPEnabled then for _,p in pairs(Players:GetPlayers()) do if p~=LocalPlayer then createPlayerESP(p) end end end
    if UsersESPEnabled then createUsersESP() end
end)

RunService.RenderStepped:Connect(function()
    if SpinBotEnabled and Character and Character:FindFirstChild("HumanoidRootPart") then
        Character.HumanoidRootPart.CFrame=Character.HumanoidRootPart.CFrame*CFrame.Angles(0,math.rad(15),0)
    end
end)

LocalPlayer.CharacterAdded:Connect(function(char)
    Character=char
    Humanoid=char:WaitForChild("Humanoid")
end)

Window:SelectTab(1)
showNotification("Merqury Hub","Loaded!",5)
